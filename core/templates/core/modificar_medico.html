{% extends "core/base.html" %}
{% block content %}
<h1 class="text-center">Modificar Médico</h1>
<div class="container mt-4">
    <!-- Mostrar notificaciones -->
    {% if messages %}
    <div class="alert alert-info">
        {% for message in messages %}
        {{ message }}
        {% endfor %}
    </div>
    {% endif %}
    <form method="post">
        {% csrf_token %}
        <div class="card p-4">
            <div class="mb-3">
                <label for="first_name" class="form-label">Nombre</label>
                <input type="text" id="first_name" name="first_name" class="form-control" value="{{ medico.user.first_name }}">
            </div>
            <div class="mb-3">
                <label for="last_name" class="form-label">Apellido</label>
                <input type="text" id="last_name" name="last_name" class="form-control" value="{{ medico.user.last_name }}">
            </div>
            <div class="mb-3">
                <label for="username" class="form-label">RUT</label>
                <input type="text" id="username" name="username" class="form-control" value="{{ medico.user.username }}">
            </div>
            <div class="mb-3">
                <label for="especialidad" class="form-label">Especialidad</label>
                <select id="especialidad" name="especialidad" class="form-control">
                    {% for especialidad in form.fields.especialidad.queryset %}
                    <option value="{{ especialidad.id }}" {% if especialidad.id == medico.especialidad.id %}selected{% endif %}>
                        {{ especialidad.nombre }}
                    </option>
                    {% endfor %}
                </select>
            </div>
            <div class="mb-3">
                <label for="telefono" class="form-label">Teléfono</label>
                <input type="text" id="telefono" name="telefono" class="form-control" value="{{ medico.telefono }}">
            </div>
            <button type="submit" class="btn btn-success w-100">Guardar Cambios</button>
            <a href="{% url 'admin_dashboard' %}" class="btn btn-secondary w-100 mt-2">Cancelar</a>
        </div>
    </form>
</div>
{% endblock %}
